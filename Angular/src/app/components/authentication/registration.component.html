<div class="login-container">
  <div class="login-form">
    <form [formGroup]="registrationForm" (ngSubmit)="onSubmit()">
      <h2>Rejestracja ucznia</h2>

      <mat-form-field>
        <mat-label>Nazwa użytkownika</mat-label>
        <input matInput id="username" formControlName="username" placeholder="Wpisz nazwę użytkownika" />
        @if (registrationForm.get('username')?.hasError('minlength')) {
          <mat-error>
            Nazwa użytkownika musi mieć co najmniej 3 znaki
          </mat-error>
        }
      </mat-form-field>

      <mat-form-field>
        <mat-label>Email</mat-label>
        <input matInput id="email" formControlName="email" placeholder="Wpisz adres email" type="email" />
        @if (registrationForm.get('email')?.hasError('email')) {
          <mat-error>
            Podaj poprawny adres email
          </mat-error>
        }
      </mat-form-field>

      <mat-form-field>
        <mat-label>Hasło</mat-label>
        <input matInput id="password" formControlName="password" placeholder="Wpisz hasło" type="password" />
        @if (registrationForm.get('password')?.hasError('minlength')) {
          <mat-error>
            Hasło musi mieć co najmniej 6 znaków
          </mat-error>
        }
      </mat-form-field>

      <mat-form-field>
        <mat-label>Potwierdź hasło</mat-label>
        <input matInput id="confirmPassword" formControlName="confirmPassword" placeholder="Potwierdź hasło" type="password" />
      </mat-form-field>

      <mat-form-field>
        <mat-label>Imię</mat-label>
        <input matInput id="firstName" formControlName="firstName" placeholder="Wpisz imię" />
        @if (registrationForm.get('firstName')?.hasError('required')) {
          <mat-error>
            Imię jest wymagane
          </mat-error>
        }
      </mat-form-field>

      <mat-form-field>
        <mat-label>Nazwisko</mat-label>
        <input matInput id="lastName" formControlName="lastName" placeholder="Wpisz nazwisko" />
      </mat-form-field>

      <mat-form-field>
        <mat-label>Płeć</mat-label>
        <mat-select id="gender" formControlName="gender">
          @for (gender of genders; track gender) {
            <mat-option [value]="gender[0]">{{ gender[1] }}</mat-option>
          }
        </mat-select>
      </mat-form-field>

      <mat-form-field>
        <mat-label>Telefon</mat-label>
        <input matInput id="phone" formControlName="phone" placeholder="Wpisz numer telefonu" type="text" />
      </mat-form-field>

      <mat-form-field>
        <mat-label>Poziom kształcenia</mat-label>
        <mat-select id="level" formControlName="level">
          @for (level of educationLevels; track level) {
            <mat-option [value]="level[0]">{{ level[1] }}</mat-option>
          }
        </mat-select>
      </mat-form-field>

      <mat-form-field>
        <mat-label>Telefon opiekuna</mat-label>
        <input matInput id="guardianPhone" formControlName="guardianPhone" placeholder="Wpisz telefon opiekuna" />
      </mat-form-field>

      <mat-form-field>
        <mat-label>Email opiekuna</mat-label>
        <input matInput id="guardianEmail" formControlName="guardianEmail" placeholder="Wpisz email opiekuna" type="email" />
      </mat-form-field>

      <mat-checkbox id="isCashPayment" formControlName="isCashPayment">Płatność gotówką</mat-checkbox>

      <mat-checkbox id="issueInvoice" formControlName="issueInvoice">Wystawienie faktury</mat-checkbox><br/>

      <button mat-raised-button color="primary" type="submit" [disabled]="registrationForm.invalid">
        Zarejestruj
      </button>
    </form>
  </div>
</div>