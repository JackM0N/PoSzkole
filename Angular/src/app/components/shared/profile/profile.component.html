<div class="account-container">
  <mat-card>
    <mat-card-header>
      <mat-card-title>{{ account?.firstName }} {{ account?.lastName }}</mat-card-title>
      <mat-card-subtitle *ngFor="let role of account?.roles"> {{getRole(role.roleName)}} </mat-card-subtitle>
    </mat-card-header>

    <mat-card-content>
      <div *ngIf="!account">
        <p>Nie znaleziono użytkownika o podanym ID.</p>
      </div>
      <div *ngIf="account">
        <h3>Dane użytkownika:</h3>
      </div>
      <div class="user-info">
        <div *ngIf="account?.username">
          <strong>Nazwa użytkownika:</strong> {{ account?.username }}
        </div>
        <div *ngIf="account?.email">
          <strong>Email:</strong> {{ account?.email }}
        </div>
        <div *ngIf="account?.phone">
          <strong>Telefon:</strong> {{ account?.phone }}
        </div>
        <div *ngIf="account?.hourlyRate">
          <strong>Stawka godzinowa:</strong> {{ account?.hourlyRate | currency:'PLN' }}
        </div>
        <div *ngIf="account?.level">
          <strong>Poziom kształcenia:</strong> {{ getLevel(account?.level) }}
        </div>
        <div *ngIf="account?.guardianPhone">
          <strong>Telefon opiekuna:</strong> {{ account?.guardianPhone }}
        </div>
        <div *ngIf="account?.guardianEmail">
          <strong>Email opiekuna:</strong> {{ account?.guardianEmail }}
        </div>
        <div *ngIf="account?.priceList">
          <strong>Cennik:</strong> {{ account?.priceList }}
        </div>
        <div *ngIf="account?.discountProcentage">
          <strong>Zniżka:</strong> {{ account?.discountProcentage }}%
        </div>
        <div *ngIf="account?.isCashPayment !== null">
          <strong>Forma płatności:</strong> {{ account?.isCashPayment ? 'Gotówka' : 'Karta' }}
        </div>
        <div *ngIf="account?.issueInvoice !== null">
          <strong>Faktura:</strong> {{ account?.issueInvoice ? 'Tak' : 'Nie' }}
        </div>
      </div>

      <div *ngIf="hasRole('TEACHER') && account?.subjects!.length > 0">
        <h3>Nauczane przedmioty:</h3>
        <div *ngFor="let subject of account?.subjects" class="user-info">
          <p>{{subject.subjectName}}</p>
        </div>
      </div>
    </mat-card-content>
  </mat-card>
  <br/>
  <mat-card *ngIf="hasRole('TEACHER')">
    <mat-card-header>
      <mat-card-title>Harmonogram nauczyciela</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <app-teacher-schedule></app-teacher-schedule>
    </mat-card-content>
  </mat-card>

  <mat-card *ngIf="hasRole('STUDENT')">
    <mat-card-header>
      <mat-card-title>Harmonogram ucznia</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <app-student-schedule></app-student-schedule>
    </mat-card-content>
  </mat-card>
</div>
